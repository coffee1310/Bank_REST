databaseChangeLog:
  - changeSet:
      id: v5.1__add_version_to_cards
      author: anton.golovin
      changes:
        - addColumn:
            tableName: cards
            columns:
              - column:
                  name: version
                  type: BIGINT
                  constraints:
                    nullable: true
                    defaultValue: 0

  - changeSet:
      id: v5.2__add_filling_out_the_version_field
      author: anton.golovin
      changes:
        - update:
            tableName: cards
            columns:
              - column:
                  name: version
                  valueNumeric: 1
            where: version IS NULL

  - changeSet:
      id: v5.3__add_not_null_constraint_to_the_version_field
      author: anton.golovin
      changes:
        - addNotNullConstraint:
            tableName: cards
            columnName: version
            columnDataType: BIGINT\\